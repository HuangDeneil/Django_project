
    {% extends "base.html" %}
    {% block title %} 物種資料查詢 {% endblock %}
    {% block bottum %} <a href="homepage" class="button" style="font-family:微軟正黑體;text-transform:initial;font-size:120%">Home</a> {% endblock %}
    {% block header %} 物種資料庫查詢系統{% endblock %}
    {% block content %}

<!-- 
######################################################################
###################*####*#####***#####*****######*****################
###################*####*###*#####*########*#####*####*###############
###################******##*********###*****#####*#####*##############
###################*####*###*#########*####**####*###*################
###################*####*####*****######***##*###****#################
######################################################################
-->
<body>


<!-- Table region  -->
<div id="wrapper" class="container" >
<form name="table_value" method="POST" action="search_engine">
  <h2 style="font-family:微軟正黑體;text-transform:initial;font-size:200%">&ensp;查詢</h2>
  <svg height="7" width="1200"><line x1="0" y1="0" x2="1300" y2="0" style="stroke:rgb(0,150,255);stroke-width:2" /></svg>
 <table>
    <tr>
      <td>&ensp;</p>
      <td></td>
    </tr>
    <tr>
    <td>&ensp;&ensp;分類:</br>&ensp;category:&ensp;&ensp;</td>
    <td>
        <select class=select_type1 name="category">
            <option style="font-family:微軟正黑體;text-transform:initial;font-size:120%" value="organism_name">物種名</option>
            <option style="font-family:微軟正黑體;text-transform:initial;font-size:120%" value="ID">ID</option>
            <option style="font-family:微軟正黑體;text-transform:initial;font-size:120%" value="chinese_name">中文名</option>
            <option style="font-family:微軟正黑體;text-transform:initial;font-size:120%" value="genus">屬名</option>
            <option style="font-family:微軟正黑體;text-transform:initial;font-size:120%" value="gram_stain">gram stain</option>
            <option style="font-family:微軟正黑體;text-transform:initial;font-size:120%" value="type">大分類</option>
            <option style="font-family:微軟正黑體;text-transform:initial;font-size:120%" value="source">資料來源</option>
            <option style="font-family:微軟正黑體;text-transform:initial;font-size:120%" value="key_word">key_word</option>
            <option style="font-family:微軟正黑體;text-transform:initial;font-size:120%" value="Halos_id">Halos_id</option>
            <option style="font-family:微軟正黑體;text-transform:initial;font-size:120%" value="taxid">taxid</option>
            <option style="font-family:微軟正黑體;text-transform:initial;font-size:120%" value="Description">Description</option>
            <option style="font-family:微軟正黑體;text-transform:initial;font-size:120%" value="reference">reference</option>
            <option style="font-family:微軟正黑體;text-transform:initial;font-size:120%" value="date">date</option>
            <option style="font-family:微軟正黑體;text-transform:initial;font-size:120%" value="data_source">data_source</option>
            <option style="font-family:微軟正黑體;text-transform:initial;font-size:120%" value="data_status">data_status</option>
        </select>
    </td>
      <td><input class=input_type1  type="text" name="input" rows="3" cols="130"></td>
      <td></td>
    </tr>
  </table>


<input class="button" style="font-family:微軟正黑體;text-transform:initial;font-size:300%" type="submit" value="送出">
</br>
<!--
<?php
function _get($str)
{
    $val = !empty($_POST["$str"]) ? $_POST[$str] : null;
    return $val;
}

$category=$input="";
$category=_get("category");
$input=_get("input");
-->


<!--
#########################################################################################################
#################### 讀取 產品資訊 from 暫存資料夾中的 ""  ######################
#########################################################################################################
-->
  <!--   
$servername = "localhost";
$username = "hudeneil";
$password = "78369906";
$dbname = "the_db";
$mysqli = new mysqli("$servername", "$username", "$password", "$dbname");
        /* check connection */
        if (mysqli_connect_errno()) {
            printf("Connect failed: %s\n", mysqli_connect_error());
            exit();
        }
        
        /* change character set to utf8 */
        if ( !$mysqli->set_charset("utf8") ) {
            printf("Error loading character set utf8: %s\n", $mysqli->error);
        } 
        -->
        
        
        <!--
        1	ID
        2	organism_name
        3	chinese_name
        4	genus
        5	gram_stain
        6	type
        7	source
        8	key_word
        9	Halos_id
        10	taxid
        11	Description
        12	reference1
        13	reference2
        14	reference3
        15	reference4
        16	reference5
        17	date
        18	data_source
        19	data_status

         WHERE `$category` LIKE '$input' ORDER BY `$category` ASC

        SELECT * FROM `reference_summary` WHERE `ID` LIKE 'S000001' ORDER BY `ID` ASC
        %    >>>   萬用字元
        _    >>>   matches exactly one character.
% matches any number of characters, even zero characters.

_ matches exactly one character.
        -->
        
        
        <!--
        if ( empty($input) ){print "$input</br></br><h1>No input</h1></br>";}
        else
        {
           print " 
           <table>
           <tr>
             <td><h1>Input category : $category &ensp;&ensp;Input info : $input</h1></td>
            <tr>
           </table>";
           
           print '<svg height="7" width="1200"><line x1="0" y1="0" x2="1300" y2="0" style="stroke:rgb(255,100,100);stroke-width:50" /></svg>';
           print "</br></br></br>";

            $result = $mysqli -> query("SELECT * FROM reference_summary WHERE `$category` LIKE '%$input%' ORDER BY `$category` ASC");
            
            
            if ($result->num_rows > 0) 
            {
                // output data of each row
                #$myfile = fopen("../temp/data.csv", "w") or die("Unable to open file!");
                $tmp_count=1;
                while($row = $result->fetch_assoc()) 
                {
                    print "<table>";
                    print "<tr>";
                    print "</tr>";
                    print "<tr>";
                    print "<td>ID: ".$row["ID"]."</td>";
                    print "<td>organism_name: <i>".$row["organism_name"]."</i></td>";
                    print "<td>chinese_name: ".$row["chinese_name"]."</td>";
                    print "</tr>";
                    print "<tr>";
                    print "<td>genus: <i>".$row["genus"]."</i></td>";
                    print "<td>type: ".$row["type"]."</td>";
                    print "<td></td>";
                    print "</tr>";
                    print "</table>";
                    print '<svg height="7" width="1200"><line x1="0" y1="0" x2="1300" y2="0" style="stroke:rgb(0,150,255);stroke-width:2" /></svg>';

                    print "<table>";
                    print "<tr>";
                    print "</tr>";
                    print "<tr>";
                    print "<td>source: ".$row["source"]."</td>";
                    print "<td>Halos_id: ".$row["Halos_id"]."</td>";
                    print "<td>taxid: ".$row["taxid"]."</td>";
                    print "</tr>";
                    print "</table>";
                    
                    print "<table>";
                    print "<td>key_word: </td><td>".$row["key_word"]."</td>";
                    print "<tr><td>Description: </td><td>".$row["Description"]."</td></tr>";
                    print "<tr><td>reference: </td><td>".$row["reference1"]."</td></tr>";
                    print "<tr><td>reference: </td><td>".$row["reference2"]."</td></tr>";
                    print "<tr><td>reference: </td><td>".$row["reference3"]."</td></tr>";
                    print "<tr><td>reference: </td><td>".$row["reference4"]."</td></tr>";
                    print "<tr><td>reference: </td><td>".$row["reference5"]."</td></tr>";
                    print "</table>";
                    print '<svg height="7" width="1200"><line x1="0" y1="0" x2="1300" y2="0" style="stroke:rgb(255,150,150);stroke-width:20" /></svg>';
                    
                    
                    ++$tmp_count;
                    #print_r($row);
                    print "</br></br></br></br></br>";
                }
            } else 
            {
                echo "";
            }
        }
        $mysqli->close();
      ?>-->
</div>
</body>
{% endblock %}
</html>


